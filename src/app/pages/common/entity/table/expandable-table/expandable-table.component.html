<mat-card class="expanded-table-container">
  <mat-expansion-panel class="expanded-table" [ngClass]="{'expanded-height': isExpanded && tableConf.detailsHref}" hideToggle [disabled]="disabled" [collapsed]="shouldBeCollapsed()"
    [expanded]="shouldBeExpanded()" (opened)="isExpanded = true" (closed)="isExpanded = false">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <h5 class="title" *ngIf="title">
          <ng-container *ngIf="titleHref; else plainTitle">
            <a [routerLink]="titleHref">{{ title }}</a>
          </ng-container>
          <ng-template #plainTitle>{{ title }}</ng-template>
        </h5>
      </mat-panel-title>
      <mat-panel-description class="description-panel">
        <div class="actions">
          <button mat-button color="default" class="action-icon" *ngIf="tableConf.add" (click)="tableConf.add()"
            ix-auto ix-auto-type="button" ix-auto-identifier="{{tableConf.name}}-add"
          >{{ 'Add' | translate }}</button>
        </div>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <app-table [conf]="tableConf"></app-table>
  </mat-expansion-panel>
  <div [ngClass]="{'actions-row': isExpanded && tableConf.detailsHref}" *ngIf="shouldDetailsShow()">
    <a [routerLink]="tableConf.detailsHref.split('/')">View Details</a>
  </div>
</mat-card>
