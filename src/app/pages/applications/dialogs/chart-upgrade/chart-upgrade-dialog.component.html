<div mat-dialog-content>
  <div class="logo-container" fxLayout="row" fxLayoutAlign="start center">
    <div class="logo">
      <img [src]="dialogConfig.appInfo.icon" [src-fallback]="imagePlaceholder"/>
    </div>
    <div fxLayout="row" fxLayoutAlign="start center">
      <strong class="chart-name">{{ dialogConfig.appInfo.name }}</strong>
      <span class="version"> {{ dialogConfig.appInfo.human_version }}</span>
    </div>
  </div>
  <div class="resource" fxLayout="row" fxLayoutAlign="space-between center">
    <div>
      <span>{{ 'Version to be upgraded' | translate }}:</span><span class="value">{{ dialogConfig.upgradeSummary.latest_human_version }}</span>
    </div>
  </div>
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'Images ( to be updated )' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="expansion-content">
        <div *ngIf="hasUpdateImages();else no_image">
          <div *ngFor="let containerImage of dialogConfig.upgradeSummary.container_images_to_update | keyvalue; let i = index" class="detail-row" [ngClass]="{'row-dark': i%2==0}">
            <div fxLayout="row" fxLayoutAlign="center start">
              <span fxFlex="70%" class="">{{ containerImage.key }}</span>
              <span fxFlex="30%" class="value" >
                {{ containerImage.update_available?'Available':'Not Available' | translate}}
              </span>
            </div>
          </div>
        </div>
        <ng-template #no_image>
          <div fxLayout="row" fxLayoutAlign="start start" class="detail-row row-dark">
            {{ 'There are no image(s) requiring update' | translate }}
          </div>
        </ng-template>
      </div>
    </mat-expansion-panel>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ 'Changelog' | translate }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="expansion-content">
        <div fxLayout="row" fxLayoutAlign="start start" class="detail-row row-dark">
          <div [innerHTML]="dialogConfig.upgradeSummary.changelog || ('No Changelog' | translate)">
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<div class="button-bar" mat-dialog-actions align="end">
  <button mat-button class="mat-button mat-secondary" (click)="dialogRef.close(false)" ix-auto ix-auto-type="button" ix-auto-identifier="CLOSE">
    {{ 'Close' | translate }}
  </button>
  <button mat-button class="mat-button mat-secondary" (click)="dialogRef.close(true)" ix-auto ix-auto-type="button" ix-auto-identifier="UPGRADE">
    {{ 'Upgrade' | translate }}
  </button>
</div>
